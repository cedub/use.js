(function(a){function d(a){var b,c=[],d=[];for(b in a){if(!a.hasOwnProperty(b))continue;c.push(b),d.push(a[b])}return[c,d]}var b={},c=Object.prototype.toString;define({version:"0.3.0",load:function(c,e,f,g){var h,i,j=g.use&&g.use[c],k="use_"+Math.floor(Math.random()*1e4)+1e4;if(!j)return f();i=b[c]={identifiers:[],deps:[],attach:j.attach};if(j.deps&&j.deps.length)for(h=0;h<j.deps.length;h++)typeof j.deps[h]=="string"?(i.identifiers.push(k),i.deps.push(j.deps[h])):(keyVals=d(j.deps[h]),i.identifiers.push(keyVals[0][0]),i.deps.push(keyVals[1][0]));e(i.deps,function(){var b,d,k={};for(h=0;h<i.identifiers.length;h++)b=i.identifiers[h],d=arguments[h],k[b]=a[b],a[b]=d;e([c],function(){var c,d=j.attach;if(g.isBuild)return f();typeof d=="function"&&(c=f(d.apply(a,arguments)));for(h=0;h<i.identifiers.length;h++)b=i.identifiers[h],a[b]=k[b];return c?c:f(a[d])})})},write:function(a,c,d){var e=b[c],f=e.deps,g={attach:null,deps:""};typeof attach=="function"?g.attach="return "+e.attach.toString()+";":g.attach="return window['"+e.attach+"'];",f.length&&(g.deps="'"+f.toString().split(",").join("','")+"'"),d(["define('",a,"!",c,"', ","[",g.deps,"],","function() {",g.attach,"}",");\n"].join(""))}})})(this)